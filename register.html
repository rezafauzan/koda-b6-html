<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Koda - Coffee Shop | Forgot Password</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body id="auth">
    <header>

    </header>
    <main>
        <section id="register">
            <div class="section-body">
                <div class="container">
                    <div class="side-image"></div>
                    <div class="form-container">
                        <div class="form-header">
                            <img src="assets/img/brand.svg" alt="Brand">
                            <span class="text-besar text-accent">Register</span>
                            <span>Fill out the form correctly</span>
                        </div>
                        <div class="form-body">
                            <form id="form-register">
                                <label for="fullname">Fullname</label>
                                <div class="input-wicon">
                                    <img src="assets/img/Profile.svg" alt="user_icon">
                                    <input type="text" name="fullname" id="fullname" placeholder="Enter your full name"
                                        required>
                                </div>

                                <label for="email">Email</label>
                                <div class="input-wicon">
                                    <img src="assets/img/mail.svg" alt="mail_icon">
                                    <input type="email" name="email" id="email" placeholder="Email address" required>
                                </div>

                                <label for="password">Password</label>
                                <div class="input-wicon">
                                    <img src="assets/img/Password.svg" alt="password_icon">
                                    <input type="password" name="password" id="password" placeholder="Password"
                                        required>
                                    <button type="button" id="show-password" class="button-show-password">
                                        <img src="assets/img/EyeSlash.svg" alt="see_password_icon">
                                    </button>
                                </div>

                                <label for="confirm_password">Confirm Password</label>
                                <div class="input-wicon">
                                    <img src="assets/img/Password.svg" alt="password_icon">
                                    <input type="password" name="confirm_password" id="confirm_password"
                                        placeholder="Confirm your password" required>
                                    <button type="button" id="show-confirm-password" class="button-show-password">
                                        <img src="assets/img/EyeSlash.svg" alt="see_password_icon">
                                    </button>
                                </div>

                                <button type="submit" class="button button-primary">Register</button>

                                <div class="navigator-text" id="register">
                                    <span>Have An Account? <a href="login.html" class="link-primary">Login</a></span>
                                    <span>or</span>
                                    <div class="social-auth-container">
                                        <button><img src="assets/img/bx_bxl-facebook-circle.svg"
                                                alt="icon_facebook">Facebook</button>
                                        <button><img src="assets/img/flat-color-icons_google.svg"
                                                alt="icon_google">Google</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
            </div>
        </section>
    </main>
    <footer>

    </footer>
    <script src="assets/js/script.js"></script>
    <script>
        $('#show-password').on('click',
            () => {
                toggleShowPassword('#show-password img', 'password')
            }
        )
        
        $('#show-confirm-password').on('click',
            () => {
                toggleShowPassword('#show-confirm-password img', 'confirm_password')
            }
        )

        const formRegister = $('#form-register')
        formRegister.on('submit',
            e => {
                e.preventDefault()
                const formData = Object.fromEntries(new FormData(formRegister[0]).entries())
                if (formData.fullname.length < 4) {
                    if (!$('#alert-message-fullname')[0]) {
                        $('#fullname').parent().after(`<div id="alert" class="show alert-fatal"><span id="alert-message-fullname">${alertData.register_fullname_min_4}</span></div>`)
                    }
                }
                if (formData.email.length < 1) {
                    if (!$('#alert-message-email')[0]) {
                        $('#email').parent().after(`<div id="alert" class="show alert-fatal"><span id="alert-message-email">${alertData.email_empty}</span></div>`)
                    }
                }
                if (!formData.email.includes('@')) {
                    if (!$('#alert-message-email')[0]) {
                        $('#email').parent().after(`<div id="alert" class="show alert-fatal"><span id="alert-message-email">${alertData.email_not_valid}</span></div>`)
                    }
                }
                if (formData.password.length < 8) {
                    if (!$('#alert-message-password')[0]) {
                        $('#password').parent().after(`<div id="alert" class="show alert-fatal"><span id="alert-message-password">${alertData.register_password_min_8}</span></div>`)
                    }
                }
                if (formData.confirm_password !== formData.password) {
                    if (!$('#alert-message-password')[0]) {
                        $('#confirm_password').parent().after(`<div id="alert" class="show alert-fatal"><span id="alert-message-password">${alertData.register_confirm_password_not_match}</span></div>`)
                    }
                } else {
                    window.localStorage.setItem('users', formData)
                }
            }
        )
    </script>
</body>

</html>